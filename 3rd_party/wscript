import os

def build( bld ):
	bld(
		name = 'eigen',
		export_incdirs = 'eigen',
		uselib = ''
	)
	
	bld(
		name = 'threadpool',
		export_incdirs = 'threadpool',
		uselib = ''
	)

#	bld(
#		features = 'cc cshlib',
#		target = 'sqlite3',
#		source = [ 'sqlite3/sqlite3/sqlite3.c' ],
#		includes = 'sqlite3/',
#		defines = 'SQLITE_ENABLE_COLUMN_METADATA SQLITE_ENABLE_STAT3',
#		uselib = 'DL',
#		export_incdirs = 'sqlite3'
#	)

	bld(
		features = 'cc cprogram',
		target = 'qcdbtool',
		source = [ 'sqlite3/sqlite3/shell.c', 'sqlite3/sqlite3/sqlite3.c', 'sqlite3/extensions/extension-functions.c' ],
		includes = 'sqlite3/',
		defines = 'SQLITE_ENABLE_COLUMN_METADATA SQLITE_ENABLE_STAT3 HAVE_READLINE',
		uselib = 'DL READLINE ZLIB M PTHREAD',
		export_incdirs = 'sqlite3'
	)

	bld(
		features = 'cc cstaticlib',
		name = 'sqlite3',
		target = 'sqlite3-qctool',
		source = [ 'sqlite3/sqlite3/sqlite3.c' ],
		includes = 'sqlite3/',
		defines = 'SQLITE_ENABLE_COLUMN_METADATA SQLITE_ENABLE_STAT3',
		uselib = 'DL',
		export_incdirs = 'sqlite3'
	)

	bld(
		features = 'cc cstaticlib',
		name = 'json-spirit',
		target = 'json-spirit',
		source = bld.glob( 'json-spirit/json_spirit/*.cpp' ),
		uselib = 'BOOST BOOST_IOSTREAMS BOOST_SYSTEM BOOST_FILESYSTEM',
		includes = 'json-spirit/json_spirit/',
		export_incdirs = 'json-spirit/json_spirit/'
	)
